---
{
    "title": "[Doris Weekly] 20220131-20220220",
    "description": "Doris Weekly 20220131-20220220",
    "date": "2022-02-20",
    "metaTitle": "[Doris Weekly] 20220131-20220220",
    "isArticle": true,
    "language": "en",
    "author": "morningman",
    "layout": "Article",
    "sidebar": true,
    "categories": "DorisWeekly"
}
---

<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

## Statistics

A total of 41 authors have submitted 113 Commits. Thanks to the following authors for their contributions (Github IDs, in alphabetical order).

924060929, adonis0147, Alibaba-HZY, awakeljw, BiteTheDDDDt, caiconghui, caoliang-web, dataalive, dataroaring, EmmyMiao87, gamezt, GoGoWen, Gongruixiao, gwdgithubnom, HappenLee, Henry2SS, hf200012, JNSimba, Keysluomo, lihuigang, littleeleventhwolf, liuzhuang2017, morningman, qidaye, qzsee, Royce33, smallhibiscus, sodamnsure, spaces-X, stalary, wangbo, wangyf0555, weizuo93, yangzhg, yiguolei, yinzhijian, zenoyang, zhangstar333, zhannngchen, ztgoto, zuochunwei

In the last 3 weeks, 23047 new lines of code were added and 32880 lines of code were deleted.

## Main progress

### New features

* https://github.com/apache/incubator-doris/pull/7473

     stream load supports a two-phase commit interface. Used to support Exactly-Once semantics of Flink Connector.

* https://github.com/apache/incubator-doris/pull/8036

     Spark Load supports hive bitmap UDF, which can directly import bitmap data generated by Hive.
    
* https://github.com/apache/incubator-doris/pull/8125

     Added an extensible regression testing framework.
    
### Work-in-Progess

* https://github.com/apache/incubator-doris/pull/7981

    Iceberg external table supports manual refresh and sync metadata.

* https://github.com/apache/incubator-doris/pull/7880

    Added statistics collection framework.

### Feature improvements

* https://github.com/apache/incubator-doris/pull/7905
* https://github.com/apache/incubator-doris/pull/8051

    Optimize the performance of vectorized joins.

* https://github.com/apache/incubator-doris/pull/7936

    Optimize the performance of the FE side in high concurrency scenarios.
    
* https://github.com/apache/incubator-doris/pull/6650

    Optimize the metadata consistency problem on the FE side.

* https://github.com/apache/incubator-doris/pull/7957

    The tablet sink operator supports vectorization, thereby supporting vectorized execution of insert into statements.

* https://github.com/apache/incubator-doris/pull/7939

     Refactored the data serialization and deserialization logic of the vectorization engine to support data transfer via brpc attachment.

* https://github.com/apache/incubator-doris/pull/7793
* https://github.com/apache/incubator-doris/pull/7977
* https://github.com/apache/incubator-doris/pull/7988
* https://github.com/apache/incubator-doris/pull/8044
* https://github.com/apache/incubator-doris/pull/8060
* https://github.com/apache/incubator-doris/pull/8068
* https://github.com/apache/incubator-doris/pull/8086
* https://github.com/apache/incubator-doris/pull/8107
* https://github.com/apache/incubator-doris/pull/8066

    Support more vectorized operators and functions: topn, mod, locate, ndv, convert_tz, year, month, week, hour, minute, day, second, group_concat, least, great, percentile

* https://github.com/apache/incubator-doris/pull/8072

    Supports specifying different numbers of compaction threads for different storage media.

* https://github.com/apache/incubator-doris/pull/7994

     Optimized the scheduling logic of the scanner thread pool so that threads can be isolated between disks.

### Bug Fixes

* https://github.com/apache/incubator-doris/pull/7932

    Fixed an issue where an error was reported during query parsing after modifying the default bucket num of table.

* https://github.com/apache/incubator-doris/pull/7921

    Fixed an issue that might cause BE to crash after enabling `transfer_data_by_brpc_attachment`.

* https://github.com/apache/incubator-doris/pull/8115

    Fixed an issue where authentication information was lost due to improper handling of 307 code when using some http clients.

* https://github.com/apache/incubator-doris/pull/8118

    Fixed the problem that rowset meta residues in rocksdb were not cleared in some cases.

### Others

* https://github.com/apache/incubator-doris/pull/7948

    Added `BUILD_META_TOOL` option to specify whether to compile `meta_tool` at compile time
    
* https://github.com/apache/incubator-doris/pull/8004

    Split spark-connector and flink-connector into separate codebases.

* https://github.com/apache/incubator-doris/pull/8069

    Fix all clang compilation warnings.